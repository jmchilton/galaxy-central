/* Raven.js 1.1.16 (463f68f) | github.com/getsentry/raven-js */
(function(N,m){var f={remoteFetching:false,collectWindowErrors:true,linesOfContext:7};var s=[].slice;var b="?";f.wrap=function o(V){function U(){try{return V.apply(this,arguments)}catch(W){f.report(W);throw W}}return U};f.report=(function q(){var U=[],Z=null,ac=null,ae=null;function V(aj){X();U.push(aj)}function af(ak){for(var aj=U.length-1;aj>=0;--aj){if(U[aj]===ak){U.splice(aj,1)}}}function aa(){ai();U=[]}function ad(aj,an){var am=null;if(an&&!f.collectWindowErrors){return}for(var al in U){if(w(U,al)){try{U[al].apply(null,[aj].concat(s.call(arguments,2)))}catch(ak){am=ak}}}if(am){throw am}}var ag,Y;function ab(ao,al,ap,an,am){var aj=null;if(ae){f.computeStackTrace.augmentStackTraceWithInitialElement(ae,al,ap,ao);ah()}else{if(am){aj=f.computeStackTrace(am);ad(aj,true)}else{var ak={url:al,line:ap,column:an};ak.func=f.computeStackTrace.guessFunctionName(ak.url,ak.line);ak.context=f.computeStackTrace.gatherContext(ak.url,ak.line);aj={message:ao,url:document.location.href,stack:[ak]};ad(aj,true)}}if(ag){return ag.apply(this,arguments)}return false}function X(){if(Y){return}ag=N.onerror;N.onerror=ab;Y=true}function ai(){if(!Y){return}N.onerror=ag;Y=false;ag=m}function ah(){var ak=ae,aj=Z;Z=null;ae=null;ac=null;ad.apply(null,[ak,false].concat(aj))}function W(am,ak){var al=s.call(arguments,1);if(ae){if(ac===am){return}else{ah()}}var aj=f.computeStackTrace(am);ae=aj;ac=am;Z=al;N.setTimeout(function(){if(ac===am){ah()}},(aj.incomplete?2000:0));if(ak!==false){throw am}}W.subscribe=V;W.unsubscribe=af;W.uninstall=aa;return W}());f.computeStackTrace=(function H(){var ae=false,aa={};function V(am){if(!f.remoteFetching){return""}try{var ap=function(){try{return new N.XMLHttpRequest()}catch(aq){return new N.ActiveXObject("Microsoft.XMLHTTP")}};var an=ap();an.open("GET",am,false);an.send("");return an.responseText}catch(ao){return""}}function ad(am){if(!k(am)){return[]}if(!w(aa,am)){var an="";if(am.indexOf(document.domain)!==-1){an=V(am)}aa[am]=an?an.split("\n"):[]}return aa[am]}function aj(an,ap){var au=/function ([^(]*)\(([^)]*)\)/,aq=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,av="",at=10,am=ad(an),ao;if(!am.length){return b}for(var ar=0;ar<at;++ar){av=am[ap-ar]+av;if(!u(av)){if((ao=aq.exec(av))){return ao[1]}else{if((ao=au.exec(av))){return ao[1]}}}}return b}function al(ao,av){var an=ad(ao);if(!an.length){return null}var aq=[],au=Math.floor(f.linesOfContext/2),am=au+(f.linesOfContext%2),ap=Math.max(0,av-au-1),ar=Math.min(an.length,av+am-1);av-=1;for(var at=ap;at<ar;++at){if(!u(an[at])){aq.push(an[at])}}return aq.length>0?aq:null}function W(am){return am.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function ah(am){return W(am).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function Y(ap,ar){var aq,am;for(var ao=0,an=ar.length;ao<an;++ao){if((aq=ad(ar[ao])).length){aq=aq.join("\n");if((am=ap.exec(aq))){return{url:ar[ao],line:aq.substring(0,am.index).split("\n").length,column:am.index-aq.lastIndexOf("\n",am.index)-1}}}}return null}function ak(ap,ao,an){var ar=ad(ao),aq=new RegExp("\\b"+W(ap)+"\\b"),am;an-=1;if(ar&&ar.length>an&&(am=aq.exec(ar[an]))){return am.index}return null}function af(ar){var ay=[N.location.href],at=document.getElementsByTagName("script"),aw,ap=""+ar,ao=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,aq=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,aA,au,aB;for(var av=0;av<at.length;++av){var az=at[av];if(az.src){ay.push(az.src)}}if(!(au=ao.exec(ap))){aA=new RegExp(W(ap).replace(/\s+/g,"\\s+"))}else{var an=au[1]?"\\s+"+au[1]:"",ax=au[2].split(",").join("\\s*,\\s*");aw=W(au[3]).replace(/;$/,";?");aA=new RegExp("function"+an+"\\s*\\(\\s*"+ax+"\\s*\\)\\s*{\\s*"+aw+"\\s*}")}if((aB=Y(aA,ay))){return aB}if((au=aq.exec(ap))){var am=au[1];aw=ah(au[2]);aA=new RegExp("on"+am+"=[\\'\"]\\s*"+aw+"\\s*[\\'\"]","i");if((aB=Y(aA,ay[0]))){return aB}aA=new RegExp(aw);if((aB=Y(aA,ay))){return aB}}return null}function ag(au){if(!au.stack){return null}var at=/^\s*at (?:((?:\[object object\])?\S+(?: \[as \S+\])?) )?\(?((?:file|https?|chrome-extension):.*?):(\d+)(?::(\d+))?\)?\s*$/i,am=/^\s*(\S*)(?:\((.*?)\))?@((?:file|https?|chrome).*?):(\d+)(?::(\d+))?\s*$/i,aw=au.stack.split("\n"),av=[],ap,ar,an=/^(.*) is undefined$/.exec(au.message);for(var aq=0,ao=aw.length;aq<ao;++aq){if((ap=am.exec(aw[aq]))){ar={url:ap[3],func:ap[1]||b,args:ap[2]?ap[2].split(","):"",line:+ap[4],column:ap[5]?+ap[5]:null}}else{if((ap=at.exec(aw[aq]))){ar={url:ap[2],func:ap[1]||b,line:+ap[3],column:ap[4]?+ap[4]:null}}else{continue}}if(!ar.func&&ar.line){ar.func=aj(ar.url,ar.line)}if(ar.line){ar.context=al(ar.url,ar.line)}av.push(ar)}if(!av.length){return null}if(av[0].line&&!av[0].column&&an){av[0].column=ak(an[1],av[0].url,av[0].line)}else{if(!av[0].column&&!u(au.columnNumber)){av[0].column=au.columnNumber+1}}return{name:au.name,message:au.message,url:document.location.href,stack:av}}function ac(ar){var au=ar.stacktrace;var aq=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,aw=au.split("\n"),at=[],am;for(var ap=0,an=aw.length;ap<an;ap+=2){if((am=aq.exec(aw[ap]))){var ao={line:+am[1],column:+am[2],func:am[3]||am[4],args:am[5]?am[5].split(","):[],url:am[6]};if(!ao.func&&ao.line){ao.func=aj(ao.url,ao.line)}if(ao.line){try{ao.context=al(ao.url,ao.line)}catch(av){}}if(!ao.context){ao.context=[aw[ap+1]]}at.push(ao)}}if(!at.length){return null}return{name:ar.name,message:ar.message,url:document.location.href,stack:at}}function Z(aF){var ao=aF.message.split("\n");if(ao.length<4){return null}var aq=/^\s*Line (\d+) of linked script ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,ap=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,am=/^\s*Line (\d+) of function script\s*$/i,aw=[],at=document.getElementsByTagName("script"),aE=[],aA,aC,aD,aB;for(aC in at){if(w(at,aC)&&!at[aC].src){aE.push(at[aC])}}for(aC=2,aD=ao.length;aC<aD;aC+=2){var aG=null;if((aA=aq.exec(ao[aC]))){aG={url:aA[2],func:aA[3],line:+aA[1]}}else{if((aA=ap.exec(ao[aC]))){aG={url:aA[3],func:aA[4]};var an=(+aA[1]);var aH=aE[aA[2]-1];if(aH){aB=ad(aG.url);if(aB){aB=aB.join("\n");var av=aB.indexOf(aH.innerText);if(av>=0){aG.line=an+aB.substring(0,av).split("\n").length}}}}else{if((aA=am.exec(ao[aC]))){var au=N.location.href.replace(/#.*$/,""),ax=aA[1];var az=new RegExp(ah(ao[aC+1]));aB=Y(az,[au]);aG={url:au,line:aB?aB.line:ax,func:""}}}}if(aG){if(!aG.func){aG.func=aj(aG.url,aG.line)}var ar=al(aG.url,aG.line);var ay=(ar?ar[Math.floor(ar.length/2)]:null);if(ar&&ay.replace(/^\s*/,"")===ao[aC+1].replace(/^\s*/,"")){aG.context=ar}else{aG.context=[ao[aC+1]]}aw.push(aG)}}if(!aw.length){return null}return{name:aF.name,message:ao[0],url:document.location.href,stack:aw}}function ai(aq,ao,ar,ap){var an={url:ao,line:ar};if(an.url&&an.line){aq.incomplete=false;if(!an.func){an.func=aj(an.url,an.line)}if(!an.context){an.context=al(an.url,an.line)}var am=/ '([^']+)' /.exec(ap);if(am){an.column=ak(am[1],an.url,an.line)}if(aq.stack.length>0){if(aq.stack[0].url===an.url){if(aq.stack[0].line===an.line){return false}else{if(!aq.stack[0].line&&aq.stack[0].func===an.func){aq.stack[0].line=an.line;aq.stack[0].context=an.context;return false}}}}aq.stack.unshift(an);aq.partial=true;return true}else{aq.incomplete=true}return false}function X(au,ar){var at=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,av=[],an={},ap=false,aq,aw,am;for(var ay=X.caller;ay&&!ap;ay=ay.caller){if(ay===ab||ay===f.report){continue}aw={url:null,func:b,line:null,column:null};if(ay.name){aw.func=ay.name}else{if((aq=at.exec(ay.toString()))){aw.func=aq[1]}}if((am=af(ay))){aw.url=am.url;aw.line=am.line;if(aw.func===b){aw.func=aj(aw.url,aw.line)}var ao=/ '([^']+)' /.exec(au.message||au.description);if(ao){aw.column=ak(ao[1],am.url,am.line)}}if(an[""+ay]){ap=true}else{an[""+ay]=true}av.push(aw)}if(ar){av.splice(0,ar)}var ax={name:au.name,message:au.message,url:document.location.href,stack:av};ai(ax,au.sourceURL||au.fileName,au.line||au.lineNumber,au.message||au.description);return ax}function ab(an,ap){var am=null;ap=(ap==null?0:+ap);try{am=ac(an);if(am){return am}}catch(ao){if(ae){throw ao}}try{am=ag(an);if(am){return am}}catch(ao){if(ae){throw ao}}try{am=Z(an);if(am){return am}}catch(ao){if(ae){throw ao}}try{am=X(an,ap+1);if(am){return am}}catch(ao){if(ae){throw ao}}return{}}function U(an){an=(an==null?0:+an)+1;try{throw new Error()}catch(am){return ab(am,an+1)}}ab.augmentStackTraceWithInitialElement=ai;ab.guessFunctionName=aj;ab.gatherContext=al;ab.ofCaller=U;return ab}());"use strict";var E=N.Raven,a=!!(N.JSON&&N.JSON.stringify),Q,J,y,l,d,T,t={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],collectWindowErrors:true,tags:{},extra:{}},L,K=false;var D={VERSION:"1.1.16",debug:true,noConflict:function(){N.Raven=E;return D},config:function(W,V){if(y){e("error","Error: Raven has already been configured");return D}if(!W){return D}var X=c(W),U=X.path.lastIndexOf("/"),Y=X.path.substr(1,U);if(V){P(V,function(Z,aa){t[Z]=aa})}t.ignoreErrors.push("Script error.");t.ignoreErrors.push("Script error");t.ignoreErrors.push("Javascript error: Script error on line 0");t.ignoreErrors.push("Javascript error: Script error. on line 0");t.ignoreErrors=v(t.ignoreErrors);t.ignoreUrls=t.ignoreUrls.length?v(t.ignoreUrls):false;t.whitelistUrls=t.whitelistUrls.length?v(t.whitelistUrls):false;t.includePaths=v(t.includePaths);d=X.user;T=X.path.substr(U+1);y="//"+X.host+(X.port?":"+X.port:"")+"/"+Y+"api/"+T+"/store/";if(X.protocol){y=X.protocol+":"+y}if(t.fetchContext){f.remoteFetching=true}if(t.linesOfContext){f.linesOfContext=t.linesOfContext}f.collectWindowErrors=!!t.collectWindowErrors;C();return D},install:function(){if(A()&&!K){f.report.subscribe(M);K=true}return D},context:function(V,W,U){if(r(V)){U=W||[];W=V;V=m}return D.wrap(V,W).apply(this,U)},wrap:function(V,W){if(u(W)&&!r(V)){return V}if(r(V)){W=V;V=m}if(!r(W)){return W}if(W.__raven__){return W}function U(){var Z=[],aa=arguments.length,Y=!V||V&&V.deep!==false;while(aa--){Z[aa]=Y?D.wrap(V,arguments[aa]):arguments[aa]}try{return W.apply(this,Z)}catch(ab){D.captureException(ab,V);throw ab}}for(var X in W){if(w(W,X)){U[X]=W[X]}}U.__raven__=true;U.__inner__=W;return U},uninstall:function(){f.report.uninstall();K=false;return D},captureException:function(V,U){if(!(V instanceof Error)){return D.captureMessage(V,U)}Q=V;try{f.report(V,U)}catch(W){if(V!==W){throw W}}return D},captureMessage:function(V,U){B(z({message:V+""},U));return D},setUserContext:function(U){l=U;return D},setExtraContext:function(U){t.extra=U||{};return D},setTagsContext:function(U){t.tags=U||{};return D},lastException:function(){return Q},lastEventId:function(){return J}};D.setUser=D.setUserContext;function R(W,U){var X,V;U=U||{};W="raven"+W.substr(0,1).toUpperCase()+W.substr(1);if(document.createEvent){X=document.createEvent("HTMLEvents");X.initEvent(W,true,true)}else{X=document.createEventObject();X.eventType=W}for(V in U){if(w(U,V)){X[V]=U[V]}}if(document.createEvent){document.dispatchEvent(X)}else{try{document.fireEvent("on"+X.eventType.toLowerCase(),X)}catch(Y){}}}var S="source protocol user pass host port path".split(" "),x=/^(?:(\w+):)?\/\/(\w+)(:\w+)?@([\w\.-]+)(?::(\d+))?(\/.*)/;function h(U){this.name="RavenConfigError";this.message=U}h.prototype=new Error();h.prototype.constructor=h;function c(Y){var U=x.exec(Y),W={},V=7;try{while(V--){W[S[V]]=U[V]||""}}catch(X){throw new h("Invalid DSN: "+Y)}if(W.pass){throw new h("Do not specify your private key in the DSN!")}return W}function u(U){return typeof U==="undefined"}function r(U){return typeof U==="function"}function k(U){return typeof U==="string"}function G(V){for(var U in V){return false}return true}function w(U,V){return Object.prototype.hasOwnProperty.call(U,V)}function P(W,X){var V,U;if(u(W.length)){for(V in W){if(w(W,V)){X.call(null,V,W[V])}}}else{U=W.length;if(U){for(V=0;V<U;V++){X.call(null,V,W[V])}}}}function C(){L="?sentry_version=4&sentry_client=raven-js/"+D.VERSION+"&sentry_key="+d}function M(V,U){var W=[];if(V.stack&&V.stack.length){P(V.stack,function(Y,X){var Z=F(X);if(Z){W.push(Z)}})}R("handle",{stackInfo:V,options:U});O(V.name,V.message,V.url,V.lineno,W,U)}function F(Y){if(!Y.url){return}var X={filename:Y.url,lineno:Y.line,colno:Y.column,"function":Y.func||"?"},V=n(Y),U;if(V){var W=["pre_context","context_line","post_context"];U=3;while(U--){X[W[U]]=V[U]}}X.in_app=!(!t.includePaths.test(X.filename)||/(Raven|TraceKit)\./.test(X["function"])||/raven\.(min\.)?js$/.test(X.filename));return X}function n(Y){if(!Y.context||!t.fetchContext){return}var W=Y.context,U=~~(W.length/2),V=W.length,X=false;while(V--){if(W[V].length>300){X=true;break}}if(X){if(u(Y.column)){return}return[[],W[U].substr(Y.column,50),[]]}return[W.slice(0,U),W[U],W.slice(U+1)]}function O(X,ab,Z,U,W,ac){var aa,Y,V;ab+="";if(X==="Error"&&!ab){return}if(t.ignoreErrors.test(ab)){return}if(W&&W.length){Z=W[0].filename||Z;W.reverse();aa={frames:W}}else{if(Z){aa={frames:[{filename:Z,lineno:U,in_app:true}]}}}ab=g(ab,100);if(t.ignoreUrls&&t.ignoreUrls.test(Z)){return}if(t.whitelistUrls&&!t.whitelistUrls.test(Z)){return}Y=U?ab+" at "+U:ab;B(z({exception:{type:X,value:ab},stacktrace:aa,culprit:Z,message:Y},ac))}function z(V,U){if(!U){return V}P(U,function(W,X){V[W]=X});return V}function g(V,U){return V.length<=U?V:V.substr(0,U)+"\u2026"}function p(){var U={url:document.location.href,headers:{"User-Agent":navigator.userAgent}};if(document.referrer){U.headers.Referer=document.referrer}return U}function B(U){if(!A()){return}U=z({project:T,logger:t.logger,site:t.site,platform:"javascript",request:p()},U);U.tags=z(t.tags,U.tags);U.extra=z(t.extra,U.extra);if(G(U.tags)){delete U.tags}if(G(U.extra)){delete U.extra}if(l){U.user=l}if(r(t.dataCallback)){U=t.dataCallback(U)}if(r(t.shouldSendCallback)&&!t.shouldSendCallback(U)){return}J=U.event_id||(U.event_id=I());j(U)}function j(W){var U=new Image(),Y=y+L+"&sentry_data="+encodeURIComponent(JSON.stringify(W));U.onload=function X(){R("success",{data:W,src:Y})};U.onerror=U.onabort=function V(){R("failure",{data:W,src:Y})};U.src=Y}function A(){if(!a){return false}if(!y){e("error","Error: Raven has not been configured.");return false}return true}function v(X){var V=[],W=0,U=X.length,Y;for(;W<U;W++){Y=X[W];if(k(Y)){V.push(Y.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"))}else{if(Y&&Y.source){V.push(Y.source)}}}return new RegExp(V.join("|"),"i")}function I(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(W){var V=Math.random()*16|0,U=W=="x"?V:(V&3|8);return U.toString(16)})}function e(V,U){if(N.console&&console[V]&&D.debug){console[V](U)}}function i(){var U=N.RavenConfig;if(U){D.config(U.dsn,U.config).install()}}i();N.Raven=D;if(typeof define==="function"&&define.amd){define("raven",[],function(){return D})}})(this);